(this["webpackJsonplempel-ziv-playground"]=this["webpackJsonplempel-ziv-playground"]||[]).push([[0],{83:function(e,t,n){"use strict";n.r(t);n(63);var r=n(0),s=n.n(r),a=n(31),c=n.n(a),i=n(15),o=n(13),l=n(11),p=n(24),j=n(14),u=n(22),h=n(10),b=n(7),x=n(47),d=n(61);var f={lz77:{type:"lz77",title:"LZ77",needsReference:!1,needsPrefixSize:!1,needsWindowSize:!1,needsRecursionLimit:!1},"lz-sw":{type:"lz-sw",title:"LZ with sliding window",needsReference:!1,needsPrefixSize:!1,needsWindowSize:!0,needsRecursionLimit:!1},rlz:{type:"rlz",title:"RLZ",needsReference:!0,needsPrefixSize:!1,needsWindowSize:!1,needsRecursionLimit:!1},"rlz-pref":{type:"rlz-pref",title:"RLZ using prefix",needsReference:!1,needsPrefixSize:!0,needsWindowSize:!1,needsRecursionLimit:!1},relz:{type:"relz",title:"ReLZ",needsReference:!1,needsPrefixSize:!0,needsWindowSize:!1,needsRecursionLimit:!1},"relz-rec":{type:"relz-rec",title:"Recursive ReLZ",needsReference:!1,needsPrefixSize:!0,needsWindowSize:!1,needsRecursionLimit:!0}},O=n(12),m=n(19),g=n(23),y=n(9),v=n(1);function z(e){var t=e.type,n=e.settings;function r(t){e.onChange&&e.onChange(t)}var s=f[t];return Object(v.jsxs)(j.a,{className:"h-100",children:[Object(v.jsx)(j.a.Header,{children:Object(v.jsxs)(h.a,{className:"d-flex align-items-center",children:[Object(v.jsx)(b.a,{children:Object(v.jsx)("h6",{children:s.title})}),Object(v.jsx)(b.a,{children:Object(v.jsxs)(p.a,{variant:"outline-danger",className:"float-right",size:"sm",onClick:function(){return e.remove&&e.remove()},children:["Remove ",Object(v.jsx)(g.a,{icon:m.l})]})})]})}),Object(v.jsxs)(j.a.Body,{children:["lz77"===t&&"no settings",Object(v.jsxs)(y.a,{children:[s.needsWindowSize&&Object(v.jsxs)(y.a.Group,{as:h.a,children:[Object(v.jsx)(y.a.Label,{column:!0,xs:"4",children:"Window Size"}),Object(v.jsx)(b.a,{xs:"8",children:Object(v.jsx)(y.a.Control,{type:"number",value:n.windowSize,min:0,onChange:function(e){return r(Object(O.a)(Object(O.a)({},n),{},{windowSize:parseInt(e.target.value)}))}})})]}),s.needsPrefixSize&&Object(v.jsxs)(y.a.Group,{as:h.a,children:[Object(v.jsx)(y.a.Label,{column:!0,xs:"4",children:"Prefix Length"}),Object(v.jsx)(b.a,{xs:"8",children:Object(v.jsx)(y.a.Control,{type:"number",value:n.prefixSize,min:0,onChange:function(e){return r(Object(O.a)(Object(O.a)({},n),{},{prefixSize:parseInt(e.target.value)}))}})})]}),s.needsRecursionLimit&&Object(v.jsxs)(y.a.Group,{as:h.a,children:[Object(v.jsx)(y.a.Label,{column:!0,xs:"4",children:"Recursion Limit"}),Object(v.jsx)(b.a,{xs:"8",children:Object(v.jsx)(y.a.Control,{type:"number",value:n.recursionLimit,min:0,onChange:function(e){return r(Object(O.a)(Object(O.a)({},n),{},{recursionLimit:parseInt(e.target.value)}))}})})]}),s.needsReference&&Object(v.jsxs)(y.a.Group,{as:h.a,children:[Object(v.jsx)(y.a.Label,{column:!0,xs:"4",children:"Reference String"}),Object(v.jsx)(b.a,{xs:"8",children:Object(v.jsx)(y.a.Control,{type:"text",value:n.reference,onChange:function(e){return r(Object(O.a)(Object(O.a)({},n),{},{reference:e.target.value}))}})})]})]})]})]})}var S=n(8),k=n(46),w=n(34),C=n.n(w);function P(e,t){e:for(var n=0;n<=e.length-t.length;n++){for(var r=0;r<t.length;r++)if(e[n+r]!==t[r])continue e;return n}return-1}function L(e,t){e:for(var n=e.length-t.length;n>=0;n--){for(var r=0;r<t.length;r++)if(e[n+r]!==t[r])continue e;return n}return-1}function N(e){for(var t=[],n=0;n<e.length;n++){var r=e.codePointAt(n);if(!r)break;t.push(r)}return t}var B=C.a.mark(M),R=C.a.mark(A),E=C.a.mark(I);function M(e){var t,n,r,s,a;return C.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:t=0;case 1:if(!(t<e.length)){c.next=26;break}n=0,r=0;case 4:if(!(t+n<e.length)){c.next=15;break}if(s=e.slice(t,t+n+1),-1===(a=L(e.slice(0,t+n),s))){c.next=12;break}n++,r=a,c.next=13;break;case 12:return c.abrupt("break",15);case 13:c.next=4;break;case 15:if(0!==n){c.next=21;break}return c.next=18,{type:"literal",pos:t,symbol:e[t],l:1};case 18:t+=1,c.next=24;break;case 21:return c.next=23,{type:"copy",pos:t,p:r,l:n};case 23:t+=n;case 24:c.next=1;break;case 26:case"end":return c.stop()}}),B)}function A(e,t){var n,r,s,a,c,i;return C.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:n=0;case 1:if(!(n<e.length)){o.next=27;break}r=0,s=0;case 4:if(!(n+r<e.length)){o.next=16;break}if(a=e.slice(n,n+r+1),c=Math.max(0,n-t),-1===(i=L(e.slice(c,Math.min(c+t,n+r)),a))){o.next=13;break}r++,s=i+c,o.next=14;break;case 13:return o.abrupt("break",16);case 14:o.next=4;break;case 16:if(0!==r){o.next=22;break}return o.next=19,{type:"literal",pos:n,symbol:e[n],l:1};case 19:n+=1,o.next=25;break;case 22:return o.next=24,{type:"copy",pos:n,p:s,l:r};case 24:n+=r;case 25:o.next=1;break;case 27:case"end":return o.stop()}}),R)}function I(e,t){var n,r,s,a,c;return C.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:n=0;case 1:if(!(n<e.length)){i.next=26;break}r=0,s=0;case 4:if(!(n+r<e.length)){i.next=15;break}if(a=e.slice(n,n+r+1),-1===(c=P(t,a))){i.next=12;break}r++,s=c,i.next=13;break;case 12:return i.abrupt("break",15);case 13:i.next=4;break;case 15:if(0!==r){i.next=21;break}return i.next=18,{rlz:!0,type:"literal",pos:n,symbol:e[n],l:1};case 18:n+=1,i.next=24;break;case 21:return i.next=23,{rlz:!0,type:"copy",pos:n,p:s,l:r};case 23:n+=r;case 24:i.next=1;break;case 26:case"end":return i.stop()}}),E)}function F(e,t){for(var n=[],r=[],s=0;s<e.length;){for(var a=0,c=0;s+a<e.length;){var i=e.slice(s,s+a+1),o=L(e.slice(0,Math.min(s+a,t)),i);if(-1===o||!(s>=t||s+a<t))break;a++,c=o}if(0===a){var l={type:"literal",pos:s,symbol:e[s],l:1};s<t?n.push(l):r.push(l),s+=1}else{var p={type:"copy",pos:s,p:c,l:a};s<t?n.push(p):r.push(p),s+=a}}return[n,r]}function Z(e,t){var n=new Map,r=[],s=[];function a(e){var s,a="literal"===e.type?[e.symbol]:t.slice(e.p,e.p+e.l),c=Object(k.a)(r);try{for(c.s();!(s=c.n()).done;){var i=Object(l.a)(s.value,2),o=i[0],p=i[1];if(Object(S.isEqual)(o,a))return p}}catch(u){c.e(u)}finally{c.f()}var j=n.size;return n.set(j,e),r.push([a,j]),j}var c,i=Object(k.a)(e);try{for(i.s();!(c=i.n()).done;){var o=c.value;s.push(a(o))}}catch(p){i.e(p)}finally{i.f()}return[n,s]}function T(e,t,n,r){for(var s=[],a=0;a<e.length;a++){var c=Object(S.sum)(s.map((function(e){return e.l})))+r,i=e[a];if("literal"===i.type){var o=t.get(i.symbol);if(void 0===o)throw new Error("no mapping for symbol "+i.symbol);s.push(Object(O.a)(Object(O.a)({},o),{},{pos:c}))}else{var l=Object(S.sumBy)(n.slice(0,i.p).map((function(e){return t.get(e)})),(function(e){return e.l}))+r,p=Object(S.sumBy)(n.slice(i.p,i.p+i.l).map((function(e){return t.get(e)})),(function(e){return e.l}));s.push({type:"copy",pos:c,p:l,l:p})}}return s}function D(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(0===n)return{passes:[],phrases:e.map((function(e,t){return{type:"literal",pos:t,symbol:e,l:1}}))};var r=Object(o.a)(F(e,t)),s=r[0],a=r[1];if(a.length>0){var c=Z(a,e.slice(0,t)),i=Object(l.a)(c,2),p=i[0],j=i[1],u=D(j,t,n&&n-1),h=u.phrases,b=T(h,p,j,t),x=[].concat(Object(o.a)(s),Object(o.a)(b));return{passes:[{input:e,prefixPhrases:s,suffixPhrases:a,suffixMetaSymbols:j,suffixMetaSymbolsPhrases:h,suffixPhrasesCompressed:b,phrasesCompressed:x}].concat(Object(o.a)(u.passes)),phrases:x}}return{passes:[{input:e,prefixPhrases:s,suffixPhrases:[],suffixMetaSymbols:[],suffixMetaSymbolsPhrases:[],suffixPhrasesCompressed:[],phrasesCompressed:s}],phrases:s}}function W(e,t,n){var r=N(t);if("lz77"===e){var s=Object(o.a)(M(r));return{type:"lz-like",input:t,steps:[{type:"initial"}].concat(Object(o.a)(Object(S.range)(s.length).map((function(e){return{type:"compress",phrase:e}}))),[{type:"result"}]),phrases:s}}if("lz-sw"===e){var a,c=Object(o.a)(A(r,null!==(a=n.windowSize)&&void 0!==a?a:5)),i=[{type:"initial"}].concat(Object(o.a)(Object(S.range)(c.length).map((function(e){return{type:"compress",phrase:e}}))),[{type:"result"}]);return{type:"lz-like",input:t,phrases:c,windowSize:n.windowSize,steps:i}}if("rlz"===e){var p=n.reference,j=N(null!==p&&void 0!==p?p:""),u=Object(o.a)(I(r,j));return{type:"rlz",input:t,reference:null!==p&&void 0!==p?p:"",phrases:u,steps:[{type:"initial"}].concat(Object(o.a)(Object(S.range)(u.length).map((function(e){return{type:"compress",phrase:e}}))),[{type:"result"}])}}if("rlz-pref"===e){var h,b=Object(o.a)(F(r,null!==(h=n.prefixSize)&&void 0!==h?h:5)),x=b[0],d=b[1],f=[].concat(Object(o.a)(x),Object(o.a)(d)),m=[{type:"initial"}].concat(Object(o.a)(Object(S.range)(f.length).map((function(e){return{type:"compress",phrase:e}}))),[{type:"result"}]);return{type:"lz-like",input:t,phrases:f,prefixLength:n.prefixSize,steps:m}}if("relz"===e){var g,y,v=function(e,t){var n=Object(o.a)(F(e,t)),r=n[0],s=n[1],a=[].concat(Object(o.a)(r),Object(o.a)(s)),c=Z(a,e),i=Object(l.a)(c,2),p=i[0],j=i[1],u=Object(o.a)(M(j));return{firstPassPhrases:a,metaSymbols:j,metaSymbolPhrases:u,phrases:T(u,p,j,0)}}(r,null!==(g=n.prefixSize)&&void 0!==g?g:5),z=[{type:"initial"}].concat(Object(o.a)(Object(S.range)(v.firstPassPhrases.length).map((function(e){return{type:"compress-first",phrase:e}}))),[{type:"mapping"}],Object(o.a)(Object(S.range)(v.metaSymbolPhrases.length).map((function(e){return{type:"compress-second",phrase:e}}))),Object(o.a)(Object(S.range)(v.phrases.length).map((function(e){return{type:"back-mapping",phrase:e}}))));return Object(O.a)(Object(O.a)({type:"relz",input:t,prefixLength:null!==(y=n.prefixSize)&&void 0!==y?y:5},v),{},{steps:z})}var k,w,C=D(r,null!==(k=n.prefixSize)&&void 0!==k?k:5,n.recursionLimit),P=C.passes.length-1,L=[{type:"initial"}].concat(Object(o.a)(C.passes.flatMap((function(e,t){return[].concat(Object(o.a)(e.prefixPhrases.map((function(e,n){return{type:"compress",pass:t,phrase:n}}))),Object(o.a)(e.suffixPhrases.map((function(n,r){return{type:"compress",pass:t,phrase:r+e.prefixPhrases.length}}))),Object(o.a)(t===P?[]:[{type:"mapping",pass:t}]))}))),Object(o.a)(Object(S.reverse)(Object(S.take)(Object(o.a)(C.passes),C.passes.length-1)).flatMap((function(e,t){return e.suffixPhrasesCompressed.map((function(e,n){return{type:"back-mapping",pass:C.passes.length-t-2,suffixPhrase:n}}))}))));return{type:"relz-rec",input:t,prefixLength:null!==(w=n.prefixSize)&&void 0!==w?w:5,passes:C.passes,phrases:C.phrases,steps:L}}var G="#E1BE6A",H="#40B0A6";function q(){return Object(v.jsxs)("defs",{children:[Object(v.jsx)("marker",{id:"arrowhead",markerWidth:"100",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:Object(v.jsx)("polygon",{points:"0 0, 10 3.5, 0 7"})}),Object(v.jsxs)("linearGradient",{id:"split-color",gradientTransform:"rotate(45)",children:[Object(v.jsx)("stop",{offset:"75%",stopColor:G}),Object(v.jsx)("stop",{offset:"75%",stopColor:H})]})]})}function V(e){var t=e.x1,n=e.x2,r=e.y,s=n-t;return Object(v.jsx)("path",{d:"M ".concat(t," ").concat(r," v -20 h ").concat(s," v 19"),markerEnd:"url(#arrowhead)",stroke:"black",fill:"none"})}function Y(e){var t=e.x1,n=e.y1,r=e.x2,s=e.y2;if(e.straight){var a=n<s?10:-10,c=n<s?20:-20;return Object(v.jsx)("path",{d:"M ".concat(t," ").concat(n," v ").concat(a," L ").concat(r," ").concat(s-20," v ").concat(c),markerEnd:"url(#arrowhead)",stroke:"black",fill:"none"})}var i=r-t,o=(s-n)/2,l=s<n?o:-o,p=s<n?o:-o;return Object(v.jsx)("path",{d:"m ".concat(t," ").concat(n," v ").concat(l," h ").concat(i," v ").concat(p),markerEnd:"url(#arrowhead)",stroke:"black",fill:"none"})}function Q(e){var t=e.x,n=e.y,r=e.text,s=e.color,a=e.w||30,c=e.h||30,i="source"===s?H:"target"===s?G:"source-target"===s?"url(#split-color)":"none";return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("rect",{x:t,y:n,width:a,height:c,fill:i,stroke:"black"}),Object(v.jsx)("foreignObject",{x:t,y:n,width:a,height:c,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,children:Object(v.jsx)("div",{style:{overflowY:"auto",textAlign:"center",verticalAlign:"middle",lineHeight:"".concat(c,"px"),userSelect:"none"},children:r})})]})}function J(e){var t=e.x1,n=e.y1,r=e.x2,s=e.y2,a=e.w,c=e.q,i=t-r,o=n-s,l=Math.sqrt(i*i+o*o),p=t+c*a*(o/=l),j=n-c*a*(i/=l),u=t-.25*l*i+(1-c)*a*o,h=n-.25*l*o-(1-c)*a*i,b=t-.5*l*i+a*o,x=n-.5*l*o-a*i,d=r+c*a*o,f=s-c*a*i,O=t-.75*l*i+(1-c)*a*o,m=n-.75*l*o-(1-c)*a*i,g="M ".concat(t," ").concat(n," Q ").concat(p," ").concat(j," ").concat(u," ").concat(h," T ").concat(b," ").concat(x," M ").concat(r," ").concat(s," Q ").concat(d," ").concat(f," ").concat(O," ").concat(m," T ").concat(b," ").concat(x);return Object(v.jsx)("path",{d:g,stroke:"black",fill:"none"})}function U(e){var t=e.x,n=e.y,r=e.l,s=e.text;if(1===r)return Object(v.jsx)("foreignObject",{x:t-20,y:n,width:"60",height:"40",children:Object(v.jsx)("div",{style:{overflowY:"auto",textAlign:"center",verticalAlign:"middle",lineHeight:"40px",userSelect:"none",transform:"rotate(-45deg)"},children:s})});var a,c=t+3,i=t+30*r-3,o=null!==(a=e.w)&&void 0!==a?a:50;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(J,{x1:c,x2:i,y1:n,y2:n,w:10,q:.6}),Object(v.jsx)("foreignObject",{x:c+Math.abs(i-c)/2-o/2,y:n,width:o,height:"40",children:Object(v.jsx)("div",{style:{overflowY:"auto",textAlign:"center",verticalAlign:"middle",lineHeight:"40px",userSelect:"none"},children:s})})]})}function X(e){var t=e.data,n=Object(r.useState)(),s=Object(l.a)(n,2),a=s[0],c=s[1],i=void 0!==a?t.phrases[a]:void 0,o=t.input.split("").map((function(e,t){return{text:e,x:30*t+30,y:30}})),p=[],j=void 0;if("rlz"===t.type?t.phrases.forEach((function(e,t){var n=e.pos;if("literal"===e.type){var r="(".concat(String.fromCodePoint(e.symbol),",0)");p.push({x:30*n+30,y:65,l:1,text:r})}else{var s="(".concat(e.p,",").concat(e.l,")");p.push({x:30*n+30,y:65,l:e.l,text:s})}for(var a=0;a<e.l;a++)o[e.pos+a].onMouseEnter=function(){return c(t)},o[e.pos+a].onMouseLeave=function(){return c(void 0)}})):t.phrases.forEach((function(e,t){var n=e.pos;if("literal"===e.type){var r="(".concat(String.fromCodePoint(e.symbol),",0)");p.push({x:30*n+30,y:65,l:1,text:r})}else{var s="(".concat(e.p,",").concat(e.l,")");p.push({x:30*n+30,y:65,l:e.l,text:s})}for(var a=0;a<e.l;a++)o[e.pos+a].onMouseEnter=function(){return c(t)},o[e.pos+a].onMouseLeave=function(){return c(void 0)}})),i){for(var u=0;u<i.l;u++)o[i.pos+u].color="target","rlz"!==t.type&&"copy"===i.type&&("target"===o[i.p+u].color?o[i.p+u].color="source-target":o[i.p+u].color="source");"rlz"!==t.type&&"copy"===i.type&&(j={x1:30*i.pos+45,x2:30*i.p+45,y:30})}var h=30*t.input.length+60;return Object(v.jsxs)("svg",{width:h,height:120,children:[Object(v.jsx)(q,{}),o.map((function(e,t){return Object(v.jsx)(Q,Object(O.a)({},e),t)})),p.map((function(e,t){return Object(v.jsx)(U,Object(O.a)({},e),t)})),j&&Object(v.jsx)(V,Object(O.a)({},j))]})}function K(e){var t=e.type,n=e.settings,r=e.input,s=W(t,r,n);return Object(v.jsx)(j.a,{style:{height:"100%"},children:Object(v.jsxs)(j.a.Body,{children:[Object(v.jsx)(h.a,{className:"overflow-auto",children:Object(v.jsx)(b.a,{children:Object(v.jsx)(X,{data:s})})}),Object(v.jsxs)(h.a,{children:[Object(v.jsxs)(b.a,{children:["z = ",s.phrases.length,"rlz"===t?" (+ ".concat(n.reference.length,")"):""]}),Object(v.jsxs)(b.a,{children:["l/z = ",(r.length/s.phrases.length).toFixed(2)]})]})]})})}var $=n(38);function _(){var e=Object(i.f)();return Object(r.useMemo)((function(){return new URLSearchParams(e.search)}),[e.search])}function ee(){var e=Object(i.f)();return _().has("embed")||"/embed"===e.pathname}function te(){var e,t,n=_(),s=n.get("type"),a=null!==(e=n.get("input"))&&void 0!==e?e:"AABCDDDCABBDBADDACB",c=parseInt(null!==(t=n.get("step"))&&void 0!==t?t:"0"),i=n.get("window"),o=n.get("prefix"),l=n.get("recursion"),p=n.get("reference"),j=Object(r.useMemo)((function(){return{windowSize:null===i?5:parseInt(i),prefixSize:null===o?5:parseInt(o),recursionLimit:null===l?5:parseInt(l),reference:null===p?"":p}}),[i,o,l,p]);return Object(r.useMemo)((function(){return null!==s&&Object(S.keys)(f).includes(s)?{type:s,input:a,step:c,settings:j}:{type:"lz77",input:a,step:c,settings:j}}),[s,a,c,j])}function ne(){var e=Object(r.useState)("AAABBBCCCC"),t=Object(l.a)(e,2),n=t[0],s=t[1],a=Object(r.useState)("lz77"),c=Object(l.a)(a,2),i=c[0],O=c[1],m=ee(),g=_().get("input");Object(r.useEffect)((function(){null!==g&&s(g)}),[g]);var y=Object(r.useState)(Object(S.keys)(f).map((function(e){return[e,{windowSize:5,reference:"",prefixSize:5,recursionLimit:5}]}))),k=Object(l.a)(y,2),w=k[0],C=k[1];return Object(v.jsxs)(u.a,{className:"my-5",fluid:m,children:[Object(v.jsx)(h.a,{children:Object(v.jsx)(b.a,{children:Object(v.jsxs)(j.a,{children:[Object(v.jsx)(j.a.Header,{children:"Input"}),Object(v.jsx)(j.a.Body,{children:Object(v.jsx)($.a,{type:"text",placeholder:"Input Text",value:n,onChange:function(e){return s(e.target.value)}})})]})})}),Object(v.jsxs)(h.a,{className:"mt-5",children:[Object(v.jsx)(b.a,{lg:"4",children:Object(v.jsx)("h2",{children:"Compressors"})}),Object(v.jsx)(b.a,{lg:"8",className:"d-none d-lg-block",children:Object(v.jsx)("h2",{children:"Outputs"})})]}),Object(v.jsx)(h.a,{children:Object(v.jsx)(b.a,{xs:"12",md:"4",lg:"3",children:Object(v.jsxs)(x.a,{as:d.a,className:"w-100",children:[Object(v.jsx)(p.a,{onClick:function(){C([].concat(Object(o.a)(w),[[i,{windowSize:5,reference:"",prefixSize:5,recursionLimit:5}]]))},className:"w-75",children:"Add "+f[i].title}),Object(v.jsx)(x.a.Toggle,{split:!0}),Object(v.jsx)(x.a.Menu,{children:Object(S.entries)(f).map((function(e){var t=Object(l.a)(e,2),n=t[0],r=t[1].title;return Object(v.jsx)(x.a.Item,{onClick:function(){return O(n)},children:r},n)}))})]})})}),w.map((function(e,t){var r=Object(l.a)(e,2),s=r[0],a=r[1];return Object(v.jsxs)(h.a,{className:"mt-4",children:[Object(v.jsx)(b.a,{xs:"12",lg:"4",children:Object(v.jsx)(z,{type:s,settings:a,onChange:function(e){return C(w.map((function(n,r){var s=Object(l.a)(n,2),a=s[0],c=s[1];return t===r?[a,e]:[a,c]})))},remove:function(){return C(w.filter((function(e,n){return n!==t})))}})}),Object(v.jsx)(b.a,{xs:"12",lg:"8",className:"mt-1 mt-lg-0",children:Object(v.jsx)(K,{type:s,settings:a,input:n})})]},t)})),0===w.length&&Object(v.jsx)(h.a,{className:"justify-content-center mt-5",children:Object(v.jsx)(b.a,{xs:"auto",children:Object(v.jsx)("h4",{children:"No compressors added yet..."})})})]})}function re(e){var t=e.data,n=e.step,r=t.steps[Math.min(n,t.steps.length-1)],s=t.input.split("").map((function(e,t){return{text:e,x:30*t+30,y:30}})),a=[],c=void 0,i="compress"===r.type?r.phrase+1:"result"===r.type?t.phrases.length:0;if(Object(S.take)(t.phrases,i).forEach((function(e){var t=e.pos;if("literal"===e.type){var n="(".concat(String.fromCodePoint(e.symbol),",0)");a.push({x:30*t+30,y:65,l:1,text:n})}else{var r="(".concat(e.p,",").concat(e.l,")");a.push({x:30*t+30,y:65,l:e.l,text:r})}})),"compress"===r.type){var o=t.phrases[r.phrase];"copy"===o.type&&(c={x1:30*o.pos+45,x2:30*o.p+45,y:30});for(var l=0;l<o.l;l++)s[o.pos+l].color="target","copy"===o.type&&("target"===s[o.p+l].color?s[o.p+l].color="source-target":s[o.p+l].color="source")}return Object(v.jsxs)("svg",{height:"160",width:30*t.input.length+40,children:[Object(v.jsx)(q,{}),s.map((function(e,t){return Object(v.jsx)(Q,Object(O.a)({},e),t)})),a.map((function(e,t){return Object(v.jsx)(U,Object(O.a)({},e),t)})),c&&Object(v.jsx)(V,Object(O.a)({},c))]})}function se(e){var t=e.data,n=e.step,r=t.steps[Math.min(n,t.steps.length-1)],s=t.reference.split("").map((function(e,t){return{text:e,x:30*t+30,y:10}})),a=t.input.split("").map((function(e,t){return{text:e,x:30*t+30,y:90}})),c=[],i=void 0,o="compress"===r.type?r.phrase+1:"result"===r.type?t.phrases.length:0;if(Object(S.take)(t.phrases,o).forEach((function(e){var t=e.pos;if("literal"===e.type){var n="(".concat(String.fromCodePoint(e.symbol),",0)");c.push({x:30*t+30,y:125,l:1,text:n})}else{var r="(".concat(e.p,",").concat(e.l,")");c.push({x:30*t+30,y:125,l:e.l,text:r})}})),"compress"===r.type){var l=t.phrases[r.phrase];"copy"===l.type&&(i={x1:30*l.pos+45,y1:90,x2:30*l.p+45,y2:41});for(var p=0;p<l.l;p++)a[l.pos+p].color="target","copy"===l.type&&(s[l.p+p].color="source")}return Object(v.jsxs)("svg",{height:"200",width:30*Math.max(t.input.length,t.reference.length)+60,children:[Object(v.jsx)(q,{}),s.map((function(e,t){return Object(v.jsx)(Q,Object(O.a)({},e),t)})),a.map((function(e,t){return Object(v.jsx)(Q,Object(O.a)({},e),t)})),i&&Object(v.jsx)(Y,Object(O.a)({},i)),c.map((function(e,t){return Object(v.jsx)(U,Object(O.a)({},e),t)}))]})}function ae(e){var t=e.data,n=e.step,r=t.input,s=t.steps[Math.min(n,t.steps.length-1)];console.log(s);var a=r.split("").map((function(e,t){return{x:30*t+30,y:30,text:e,color:"none"}})),c="initial"!==s.type&&"compress-first"!==s.type?t.metaSymbols.map((function(e,t){return{x:30*t+30,y:240,text:String(e),color:"none"}})):[],i=[],o=[],p=void 0,j="initial"===s.type?[0,0,0]:"compress-first"===s.type?[s.phrase+1,0,0]:"mapping"===s.type?[t.firstPassPhrases.length,0,0]:"compress-second"===s.type?[t.firstPassPhrases.length,s.phrase+1,0]:[t.firstPassPhrases.length,t.metaSymbolPhrases.length,s.phrase+1],u=Object(l.a)(j,3),h=u[0],b=u[1],x=u[2];if(Object(S.take)(t.firstPassPhrases,h).forEach((function(e){var t=e.pos;if("literal"===e.type){var n="(".concat(String.fromCodePoint(e.symbol),",0)");i.push({x:30*t+30,y:65,l:1,text:n})}else{var r="(".concat(e.p,",").concat(e.l,")");i.push({x:30*t+30,y:65,l:e.l,text:r})}})),Object(S.take)(t.metaSymbolPhrases,b).forEach((function(e){var t=e.pos;if("literal"===e.type){var n="(".concat(e.symbol,",0)");i.push({x:30*t+30,y:280,l:1,text:n})}else{var r="(".concat(e.p,",").concat(e.l,")");i.push({x:30*t+30,y:280,l:e.l,text:r})}})),Object(S.take)(t.phrases,x).forEach((function(e,n){var r=e.pos;if("literal"===e.type){var s="(".concat(String.fromCodePoint(e.symbol),",0)");i.push({x:30*r+30,y:125,l:1,text:s})}else{var a="(".concat(e.p,",").concat(e.l,")");i.push({x:30*r+30,y:125,l:e.l,text:a})}var c=t.metaSymbolPhrases[n];o.push({x1:30*c.pos+30+15*c.l,y1:240,x2:30*e.pos+30+15*e.l,y2:210,straight:!0})})),"compress-first"===s.type){var d=t.firstPassPhrases[s.phrase];"copy"===d.type&&(p={x1:30*d.pos+45,x2:30*d.p+45,y:30});for(var f=0;f<d.l;f++)a[d.pos+f].color="target","copy"===d.type&&("target"===a[d.p+f].color?a[d.p+f].color="source-target":a[d.p+f].color="source")}if("compress-second"===s.type){var m=t.metaSymbolPhrases[s.phrase];"copy"===m.type&&(p={x1:30*m.pos+45,x2:30*m.p+45,y:240});for(var g=0;g<m.l;g++)c[m.pos+g].color="target","copy"===m.type&&("target"===c[m.p+g].color?c[m.p+g].color="source-target":c[m.p+g].color="source")}return"mapping"===s.type&&t.firstPassPhrases.forEach((function(e,t){o.push({x1:30*e.pos+30+15*e.l,y1:110,x2:30*t+45,y2:240,straight:!0})})),Object(v.jsxs)("svg",{height:"350",width:30*t.input.length+60,children:[Object(v.jsx)(q,{}),Object(v.jsx)(q,{}),a.map((function(e,t){return Object(v.jsx)(Q,Object(O.a)({},e),t)})),c.map((function(e,t){return Object(v.jsx)(Q,Object(O.a)({},e),t)})),i.map((function(e,t){return Object(v.jsx)(U,Object(O.a)({},e),t)})),p&&Object(v.jsx)(V,Object(O.a)({},p)),o.map((function(e,t){return Object(v.jsx)(Y,Object(O.a)(Object(O.a)({},e),{},{straight:!0}),t)})),"back-mapping"===s.type&&Object(v.jsx)("line",{x1:"30",y1:"115",x2:30*r.length+30,y2:"115",stroke:"black"}),"back-mapping"===s.type&&Object(v.jsx)("line",{x1:"30",y1:"119",x2:30*r.length+30,y2:"119",stroke:"black"})]})}function ce(e){var t=e.data,n=e.step,r=t.passes,s=t.prefixLength,a=120,c=t.steps[Math.min(n,t.steps.length-1)],i=r.reduce((function(e,t){var n,r=(null!==(n=Object(S.last)(e))&&void 0!==n?n:0)+Object(S.sum)(t.prefixPhrases.map((function(e){return e.l})));return[].concat(Object(o.a)(e),[r])}),[0]),p="initial"===c.type?[1,0,0,0]:"compress"===c.type?[c.pass+1,c.phrase+1,c.pass-1]:"mapping"===c.type?[c.pass+2,0,c.pass+1]:[r.length,s,0,c.pass,c.suffixPhrase],j=Object(l.a)(p,4),u=j[0],h=j[1],b=j[2],x=j[3],d=Object(S.take)(r,u).map((function(e,t){return e.input.map((function(e,n){return{x:30*n+30*i[t]+30,y:t*a+30,text:0===t?String.fromCodePoint(e):String(e),color:"none"}}))})),f=[],m=[],g=void 0;if("compress"===c.type){var y=[].concat(Object(o.a)(r[c.pass].prefixPhrases),Object(o.a)(r[c.pass].suffixPhrases))[c.phrase];if("copy"===y.type){g={x1:30*y.pos+30*i[c.pass]+45,x2:30*y.p+30*i[c.pass]+45,y:c.pass*a+30};for(var z=0;z<y.l;z++)d[c.pass][y.pos+z].color="target","target"===d[c.pass][y.p+z].color?d[c.pass][y.p+z].color="source-target":d[c.pass][y.p+z].color="source"}else d[c.pass][y.pos].color="target"}if("back-mapping"===c.type){var k=r[c.pass].suffixPhrasesCompressed[c.suffixPhrase];Object(S.drop)(r,x).forEach((function(e,t){var n=t+c.pass;Object(S.take)(e.suffixPhrasesCompressed,n===c.pass?c.suffixPhrase+1:r[n].suffixPhrasesCompressed.length).forEach((function(e,t){var s=e.pos;if("literal"===e.type){var c="(".concat(0===n?String.fromCodePoint(e.symbol):String(e.symbol),",0)");f.push({x:30*s+30*i[n]+30,y:65+a*n,l:1,text:c})}else{var o="(".concat(e.p,",").concat(e.l,")");f.push({x:30*s+30*i[n]+30,y:65+a*n,l:e.l,text:o})}if(r.length>n+1){var l=r[n+1].phrasesCompressed[t];m.push({x1:30*l.pos+30+15*l.l+30*i[n+1],y1:150+n*a,x2:30*e.pos+30+15*e.l+30*i[n],y2:140+n*a,straight:!0})}})),Object(S.dropWhile)(e.suffixPhrases,(function(e){return n!==c.pass||e.pos<k.pos+k.l})).forEach((function(e){var t=e.pos;if("literal"===e.type){var r="(".concat(0===n?String.fromCodePoint(e.symbol):String(e.symbol),",0)");f.push({x:30*t+30*i[n]+30,y:65+a*n,l:1,text:r})}else{var s="(".concat(e.p,",").concat(e.l,")");f.push({x:30*t+30*i[n]+30,y:65+a*n,l:e.l,text:s})}}))}))}return Object(S.take)(r,u).forEach((function(e,t){Object(S.take)(e.prefixPhrases,t===u-1?h:e.prefixPhrases.length).forEach((function(e){var n=e.pos;if("literal"===e.type){var r="(".concat(0===t?String.fromCodePoint(e.symbol):String(e.symbol),",0)");f.push({x:30*n+30*i[t]+30,y:65+a*t,l:1,text:r})}else{var s="(".concat(e.p,",").concat(e.l,")");f.push({x:30*n+30*i[t]+30,y:65+a*t,l:e.l,text:s})}})),Object(S.take)(e.suffixPhrases,t===u-1?h-e.prefixPhrases.length:void 0!==x&&t>=x?0:e.suffixPhrases.length).forEach((function(e){var n=e.pos;if("literal"===e.type){var r="(".concat(0===t?String.fromCodePoint(e.symbol):String(e.symbol),",0)");f.push({x:30*n+30*i[t]+30,y:65+a*t,l:1,text:r})}else{var s="(".concat(e.p,",").concat(e.l,")");f.push({x:30*n+30*i[t]+30,y:65+a*t,l:e.l,text:s})}}))})),Object(S.take)(r,b).forEach((function(e,t){return e.suffixPhrases.forEach((function(e,n){m.push({x1:30*e.pos+30+15*e.l+30*i[t],y1:100+t*a,x2:30*n+30*i[t+1]+45,y2:150+t*a,straight:!0})}))})),Object(v.jsxs)("svg",{height:r.length*a,width:30*t.input.length+60,children:[Object(v.jsx)(q,{}),d.map((function(e,t){return e.map((function(e,n){return Object(v.jsx)(Q,Object(O.a)({},e),"".concat(t,"+").concat(n))}))})),f.map((function(e,t){return Object(v.jsx)(U,Object(O.a)({},e),t)})),m.map((function(e,t){return Object(v.jsx)(Y,Object(O.a)({},e),t)})),g&&Object(v.jsx)(V,Object(O.a)({},g))]})}var ie=n(58);function oe(e){var t=e.type,n=e.input,s=e.settings,a=e.step,c=Object(r.useState)(!0),i=Object(l.a)(c,2),o=i[0],u=i[1],h=Object(r.useState)(!1),b=Object(l.a)(h,2),x=b[0],d=b[1],O=new URLSearchParams;O.set("type",t),O.set("input",n),f[t].needsPrefixSize&&O.set("prefix",String(s.prefixSize)),f[t].needsWindowSize&&O.set("window",String(s.windowSize)),f[t].needsRecursionLimit&&O.set("recursion",String(s.recursionLimit)),f[t].needsReference&&O.set("reference",s.reference),o&&O.set("step",String(a));var m=x?"/embed":"/steps",g="".concat(window.location.origin).concat(window.location.pathname,"/#").concat(m,"?").concat(O.toString());return Object(v.jsx)(j.a,{children:Object(v.jsx)(j.a.Body,{children:Object(v.jsxs)(y.a,{children:[Object(v.jsxs)(ie.a,{className:"mb-3",children:[Object(v.jsx)($.a,{value:g,readOnly:!0}),Object(v.jsx)(ie.a.Append,{children:Object(v.jsx)(p.a,{variant:"outline-secondary",onClick:function(){return navigator.clipboard.writeText(g)},children:"Copy"})})]}),Object(v.jsx)(y.a.Check,{custom:!0,type:"checkbox",label:"Include current step",id:"includeStep",onChange:function(e){return u(e.target.checked)},checked:o}),Object(v.jsx)(y.a.Check,{custom:!0,type:"checkbox",label:"Embed visualization",id:"embed",onChange:function(e){return d(e.target.checked)},checked:x})]})})})}function le(e){var t=e.step,n=e.stepsTotal,r=e.stepChanged;function s(e){r&&r(Math.max(0,Math.min(n-1,e)))}return Object(v.jsx)(u.a,{fluid:!0,children:Object(v.jsxs)(h.a,{className:"no-gutters",children:[Object(v.jsx)(b.a,{xs:"6",md:"2",children:Object(v.jsxs)(p.a,{className:"w-100",disabled:0===t,onClick:function(){return s(0)},children:[Object(v.jsx)(g.a,{icon:m.f})," First"]})}),Object(v.jsx)(b.a,{xs:"6",md:"2",children:Object(v.jsxs)(p.a,{className:"ml-2 w-100",disabled:0===t,onClick:function(){return s(t-1)},children:[Object(v.jsx)(g.a,{icon:m.a})," Prev."]})}),Object(v.jsx)(b.a,{xs:"12",md:"4",className:"text-center my-md-auto my-xs-4",children:Object(v.jsx)("h5",{children:"".concat(t+1," / ").concat(n)})}),Object(v.jsx)(b.a,{xs:"6",md:"2",children:Object(v.jsxs)(p.a,{className:"w-100",disabled:t>=n-1,onClick:function(){return s(t+1)},children:["Next ",Object(v.jsx)(g.a,{icon:m.h})]})}),Object(v.jsx)(b.a,{xs:"6",md:"2",children:Object(v.jsxs)(p.a,{className:"ml-2 w-100",disabled:t>=n-1,onClick:function(){return s(n-1)},children:["Last ",Object(v.jsx)(g.a,{icon:m.g})]})})]})})}function pe(){var e=Object(r.useState)("ABCCDBCCABDD"),t=Object(l.a)(e,2),n=t[0],s=t[1],a=Object(r.useState)(0),c=Object(l.a)(a,2),i=c[0],o=c[1],p=Object(r.useState)("lz77"),x=Object(l.a)(p,2),d=x[0],O=x[1],m=f[d],g=Object(r.useState)(""),z=Object(l.a)(g,2),k=z[0],w=z[1],C=Object(r.useState)(5),P=Object(l.a)(C,2),L=P[0],N=P[1],B=Object(r.useState)(5),R=Object(l.a)(B,2),E=R[0],M=R[1],A=Object(r.useState)(5),I=Object(l.a)(A,2),F=I[0],Z=I[1],T=te();Object(r.useEffect)((function(){console.log(T),O(T.type),s(T.input),w(T.settings.reference),N(T.settings.windowSize),M(T.settings.prefixSize),Z(T.settings.recursionLimit),o(T.step)}),[T]);var D=W(d,n,{reference:k,windowSize:L,prefixSize:E,recursionLimit:F}),G=ee();return Object(r.useEffect)((function(){o(Math.min(D.steps.length-1,i))}),[D,D.steps.length,i]),Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(u.a,{children:[Object(v.jsx)(h.a,{className:"mt-5",children:Object(v.jsx)(b.a,{children:Object(v.jsxs)(j.a,{children:[Object(v.jsx)(j.a.Header,{children:"Settings"}),Object(v.jsx)(j.a.Body,{children:Object(v.jsxs)(y.a,{children:[Object(v.jsxs)(y.a.Group,{children:[Object(v.jsx)(y.a.Label,{children:"Input String"}),Object(v.jsx)(y.a.Control,{value:n,onChange:function(e){return s(e.target.value)}})]}),Object(v.jsxs)(h.a,{children:[Object(v.jsx)(b.a,{xs:"12",md:"6",children:Object(v.jsxs)(y.a.Group,{children:[Object(v.jsx)(y.a.Label,{children:"Compression Algorithm"}),Object(S.values)(f).map((function(e){return Object(v.jsx)(y.a.Check,{label:e.title,name:"compressor-group",type:"radio",checked:d===e.type,onChange:function(){return O(e.type)}},e.type)}))]})}),Object(v.jsxs)(b.a,{xs:"12",md:"6",children:[m.needsReference&&Object(v.jsxs)(y.a.Group,{children:[Object(v.jsx)(y.a.Label,{children:"Reference"}),Object(v.jsx)(y.a.Control,{placeholder:"Reference String",value:k,onChange:function(e){return w(e.target.value)}})]},"reference-string"),m.needsPrefixSize&&Object(v.jsxs)(y.a.Group,{children:[Object(v.jsx)(y.a.Label,{children:"Prefix Size"}),Object(v.jsx)(y.a.Control,{type:"number",value:E,min:0,onChange:function(e){return M(parseInt(e.target.value))}})]}),m.needsWindowSize&&Object(v.jsxs)(y.a.Group,{children:[Object(v.jsx)(y.a.Label,{children:"Window Size"}),Object(v.jsx)(y.a.Control,{type:"number",value:L,min:0,onChange:function(e){return N(parseInt(e.target.value))}})]}),m.needsRecursionLimit&&Object(v.jsxs)(y.a.Group,{children:[Object(v.jsx)(y.a.Label,{children:"Recursion Limit"}),Object(v.jsx)(y.a.Control,{type:"number",value:F,min:0,onChange:function(e){return Z(parseInt(e.target.value))}})]})]})]})]})})]})})}),Object(v.jsx)(h.a,{className:"mt-3",children:Object(v.jsx)(b.a,{children:Object(v.jsx)(j.a,{children:Object(v.jsx)(j.a.Body,{children:Object(v.jsxs)(u.a,{children:[Object(v.jsx)(h.a,{className:"justify-content-center overflow-auto",children:Object(v.jsxs)(b.a,{xs:"auto",children:["lz-like"===D.type&&Object(v.jsx)(re,{data:D,step:i}),"rlz"===D.type&&Object(v.jsx)(se,{data:D,step:i}),"relz"===D.type&&Object(v.jsx)(ae,{data:D,step:i}),"relz-rec"===D.type&&Object(v.jsx)(ce,{data:D,step:i})]})}),Object(v.jsx)(h.a,{className:"justify-content-center no-gutters",children:Object(v.jsx)(b.a,{xs:"12",lg:"8",children:Object(v.jsx)(le,{step:i,stepsTotal:D.steps.length,stepChanged:o})})})]})})})})}),!G&&Object(v.jsx)(h.a,{className:"mt-3 mb-5",children:Object(v.jsx)(b.a,{children:Object(v.jsx)(oe,{type:d,input:n,settings:{prefixSize:E,recursionLimit:F,reference:k,windowSize:L},step:i})})})]})})}var je=n(59),ue=n(48),he=n(27);function be(){var e=Object(i.f)(),t=[{to:"/compare",title:"Compare",icon:m.b},{to:"/steps",title:"Step by Step",icon:m.j},{to:"/quiz",title:"Quiz",icon:m.i}];return Object(v.jsx)(ue.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",children:Object(v.jsxs)(u.a,{children:[Object(v.jsx)(ue.a.Brand,{to:"/",as:he.b,children:"Lempel-Ziv Playground"}),Object(v.jsx)(ue.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(v.jsx)(ue.a.Collapse,{id:"responsive-navbar-nav",children:Object(v.jsx)(je.a,{className:"mr-auto",children:t.map((function(t){var n=t.to,r=t.title,s=t.icon;return Object(v.jsxs)(je.a.Link,{to:n,as:he.b,active:e.pathname===n,children:[Object(v.jsx)(g.a,{icon:s})," ",r]},n)}))})})]})})}function xe(){var e=te(),t=e.type,n=e.input,s=e.step,a=W(t,n,e.settings),c=Object(r.useState)(0),i=Object(l.a)(c,2),o=i[0],p=i[1];return Object(r.useEffect)((function(){p(s)}),[s]),Object(v.jsxs)(u.a,{fluid:!0,className:"h-100",children:[Object(v.jsx)(h.a,{className:"justify-content-center overflow-auto",children:Object(v.jsxs)(b.a,{xs:"auto",children:["lz-like"===(null===a||void 0===a?void 0:a.type)&&Object(v.jsx)(re,{data:a,step:o}),"rlz"===(null===a||void 0===a?void 0:a.type)&&Object(v.jsx)(se,{data:a,step:o}),"relz"===a.type&&Object(v.jsx)(ae,{data:a,step:o}),"relz-rec"===a.type&&Object(v.jsx)(ce,{data:a,step:o})]})}),Object(v.jsx)(h.a,{className:"mb-3 justify-content-center",style:{position:"absolute",bottom:"0",width:"100%"},children:Object(v.jsx)(b.a,{lg:"8",md:"12",children:Object(v.jsx)(le,{step:o,stepsTotal:a.steps.length,stepChanged:p})})})]})}function de(e,t){return e.inputs.map((function(e,n){if(e.validate){if("number"===e.type)return!e.validate(t[n]);if("text"===e.type)return!e.validate(t[n])}return!1}))}function fe(e){return{currentInputs:e.inputs.map((function(e){return e.initialValue})),done:!1}}function Oe(e){var t=e.description,n=e.number,r=e.state,s=e.onStateChanged,a=de(t,r.currentInputs);function c(e,n){var a=r.currentInputs.map((function(t,r){return r===e?n:t})),c=function(e,t){return!Object(S.some)(de(e,t))&&e.check(t)}(t,a);s({currentInputs:a,done:c})}return Object(v.jsxs)(j.a,{children:[Object(v.jsx)(j.a.Header,{children:Object(v.jsxs)(h.a,{children:[Object(v.jsxs)(b.a,{children:["Task ",n]}),Object(v.jsx)(b.a,{className:"d-flex justify-content-end",children:r.done?Object(v.jsxs)("span",{className:"text-success",children:[Object(v.jsx)(g.a,{icon:m.c})," Correct"]}):Object(v.jsxs)("span",{className:"text-danger",children:[Object(v.jsx)(g.a,{icon:m.e})," Wrong"]})})]})}),Object(v.jsxs)(j.a.Body,{children:[Object(v.jsx)("p",{children:t.text}),Object(v.jsxs)(y.a,{children:[t.inputs.map((function(e,t){return Object(v.jsxs)(y.a.Group,{as:h.a,children:[Object(v.jsx)(y.a.Label,{column:!0,xs:"4",children:e.text}),Object(v.jsxs)(b.a,{xs:"8",children:["number"===e.type&&Object(v.jsx)(y.a.Control,{type:"number",min:e.min,max:e.max,value:r.currentInputs[t],onChange:function(e){return c(t,parseInt(e.target.value))},isInvalid:a[t]}),"text"===e.type&&Object(v.jsx)(y.a.Control,{type:"text",value:r.currentInputs[t],onChange:function(e){return c(t,e.target.value)},isInvalid:a[t]})]})]},t)})),t.render(r.currentInputs)]})]})]})}var me=[{text:"Find a string that is at least 15 characters long and compresses to the same number of phrases using LZ77 and ReLZ. ReLZ must use prefix size between 3 and 6.",inputs:[{type:"text",text:"Input",initialValue:"ABC",validate:function(e){return e.length>=15}},{type:"number",text:"Prefix Length",initialValue:5,min:3,max:6,validate:function(e){return e>=3&&e<=6}}],check:function(e){var t=Object(l.a)(e,2),n=t[0],r=t[1],s=W("lz77",n,{}),a=W("relz",n,{prefixSize:r});return s.phrases.length===a.phrases.length},render:function(e){var t=Object(l.a)(e,2),n=t[0],r=t[1],s=W("lz77",n,{}),a=W("relz",n,{prefixSize:r});return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(h.a,{children:[Object(v.jsx)(b.a,{xs:"12",lg:"2",children:"LZ77 phrases:"}),Object(v.jsx)(b.a,{className:"overflow-auto",children:Object(v.jsx)(X,{data:s})})]}),Object(v.jsxs)(h.a,{children:[Object(v.jsx)(b.a,{xs:"12",lg:"2",children:"ReLZ phrases:"}),Object(v.jsx)(b.a,{className:"overflow-auto",children:Object(v.jsx)(X,{data:a})})]})]})}},{text:"Find a string that is at least 15 characters long and compresses better using ReLZ than with RLZ (using prefix as reference). The prefix size is set to 5 for both compressors.",inputs:[{type:"text",text:"Input",initialValue:"ABC",validate:function(e){return e.length>=15}}],check:function(e){var t=Object(l.a)(e,1)[0],n=W("rlz-pref",t,{prefixSize:5}),r=W("relz",t,{prefixSize:5});return n.phrases.length>r.phrases.length},render:function(e){var t=Object(l.a)(e,1)[0],n=W("rlz-pref",t,{prefixSize:5}),r=W("relz",t,{prefixSize:5});return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(h.a,{children:[Object(v.jsx)(b.a,{xs:"12",lg:"2",children:"RLZ using prefix:"}),Object(v.jsx)(b.a,{className:"overflow-auto",children:Object(v.jsx)(X,{data:n})})]}),Object(v.jsxs)(h.a,{children:[Object(v.jsx)(b.a,{xs:"12",lg:"2",children:"ReLZ phrases:"}),Object(v.jsx)(b.a,{className:"overflow-auto",children:Object(v.jsx)(X,{data:r})})]})]})}},{text:"Find a string that is at least 15 characters long and LZ is able to compress to fewer than 8 phrases.",inputs:[{type:"text",text:"Input",initialValue:"ABC",validate:function(e){return e.length>=15}}],check:function(e){return W("lz77",Object(l.a)(e,1)[0],{}).phrases.length<8},render:function(e){var t=W("lz77",Object(l.a)(e,1)[0],{});return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(h.a,{children:[Object(v.jsx)(b.a,{xs:"12",lg:"2",children:"LZ phrases:"}),Object(v.jsx)(b.a,{className:"overflow-auto",children:Object(v.jsx)(X,{data:t})})]}),Object(v.jsxs)(h.a,{children:[Object(v.jsx)(b.a,{xs:"12",lg:"2",children:"Number of phrases:"}),Object(v.jsxs)(b.a,{className:"overflow-auto",children:["z = ",t.phrases.length]})]})]})}},{text:"Find a reference string that allows the input to be compressed to fewer than 8 phrases.",inputs:[{type:"text",text:"Reference",initialValue:"ABC"}],check:function(e){return W("rlz","AABBCDDEEDBBBF",{reference:Object(l.a)(e,1)[0]}).phrases.length<8},render:function(e){var t=W("rlz","AABBCDDEEDBBBF",{reference:Object(l.a)(e,1)[0]});return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(h.a,{children:[Object(v.jsx)(b.a,{xs:"12",lg:"2",children:"RLZ phrases:"}),Object(v.jsx)(b.a,{className:"overflow-auto",children:Object(v.jsx)(X,{data:t})})]})})}}];function ge(){var e=Object(r.useState)(me.map(fe)),t=Object(l.a)(e,2),n=t[0],s=t[1],a=Object(S.sumBy)(n,(function(e){return e.done?1:0})),c=me.length===a;return Object(v.jsxs)(u.a,{className:"my-5",children:[Object(v.jsx)(h.a,{children:Object(v.jsx)(b.a,{children:Object(v.jsxs)(j.a,{children:[Object(v.jsxs)(j.a.Header,{children:[Object(v.jsx)(g.a,{icon:m.k})," Tasks"]}),Object(v.jsxs)(j.a.Body,{children:[Object(v.jsxs)(h.a,{children:[Object(v.jsx)(b.a,{children:c?"All tasks done! \ud83e\udd73":"There are still tasks left to complete:"}),Object(v.jsx)(b.a,{className:"d-flex justify-content-end",children:Object(v.jsxs)("span",{children:[a," / ",me.length," Completed",Object(v.jsx)(g.a,{icon:m.d,className:"ml-2"})]})})]}),Object(v.jsx)(h.a,{children:Object(v.jsx)(b.a,{children:Object(v.jsx)("ul",{children:n.map((function(e,t){return e.done?Object(v.jsx)(r.Fragment,{},t):Object(v.jsxs)("li",{children:["Task ",t+1]},t)}))})})})]})]})})}),me.map((function(e,t){return Object(v.jsx)(h.a,{className:"mt-3",children:Object(v.jsx)(b.a,{children:Object(v.jsx)(Oe,{description:e,number:t+1,state:n[t],onStateChanged:function(e){return function(e,t){s(n.map((function(n,r){return r===e?t:n})))}(t,e)}})})},t)}))]})}var ye=n(62);function ve(){return Object(v.jsx)(u.a,{className:"mt-5",children:Object(v.jsxs)(ye.a,{children:[Object(v.jsx)("h1",{children:"Lempel-Ziv Playground"}),Object(v.jsxs)("p",{children:["This page lets you play around with the original Lempel-Ziv algorithm from 1977 and other variants of the algorithm. You can compare different Lempel-Ziv variants with each other"," ",Object(v.jsx)(he.b,{to:"/compare",children:"here"})," and find out what parameters work well on different inputs. You can go through the compression process step by step for each algorithm and see how an input is processed"," ",Object(v.jsx)(he.b,{to:"/slides",children:"here"}),". Finally, you can take a quiz on the algorithms and think about some properties of the algorithms"," ",Object(v.jsx)(he.b,{to:"/quiz",children:"here"}),"."]})]})})}var ze=function(){var e=ee();return Object(v.jsxs)(v.Fragment,{children:[!e&&Object(v.jsx)(be,{}),Object(v.jsxs)(i.c,{children:[Object(v.jsx)(i.a,{exact:!0,path:"/",children:Object(v.jsx)(ve,{})}),Object(v.jsx)(i.a,{exact:!0,path:"/compare",children:Object(v.jsx)(ne,{})}),Object(v.jsx)(i.a,{exact:!0,path:"/steps",children:Object(v.jsx)(pe,{})}),Object(v.jsx)(i.a,{exact:!0,path:"/quiz",children:Object(v.jsx)(ge,{})}),Object(v.jsx)(i.a,{exact:!0,path:"/embed",children:Object(v.jsx)(xe,{})})]})]})},Se=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,88)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),r(e),s(e),a(e),c(e)}))};c.a.render(Object(v.jsx)(s.a.StrictMode,{children:Object(v.jsx)(he.a,{children:Object(v.jsx)(ze,{})})}),document.getElementById("root")),Se()}},[[83,1,2]]]);
//# sourceMappingURL=main.c6cdd259.chunk.js.map