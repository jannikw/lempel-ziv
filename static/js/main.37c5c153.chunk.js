(this["webpackJsonplempel-ziv-playground"]=this["webpackJsonplempel-ziv-playground"]||[]).push([[0],{76:function(e,t,n){"use strict";n.r(t);n(59);var r=n(0),c=n.n(r),a=n(27),i=n.n(a),s=n(40),l=n(31),o=n(14),j=n(10),u=n(12),h=n(28),b=n(7),x=n(11),d=n(6);var p=n(13),f=n(42),O=n(32),v=n.n(O);function g(e,t){e:for(var n=0;n<=e.length-t.length;n++){for(var r=0;r<t.length;r++)if(e[n+r]!==t[r])continue e;return n}return-1}function y(e,t){e:for(var n=e.length-t.length;n>=0;n--){for(var r=0;r<t.length;r++)if(e[n+r]!==t[r])continue e;return n}return-1}function m(e){for(var t=[],n=0;n<e.length;n++){var r=e.codePointAt(n);if(!r)break;t.push(r)}return t}var z=n(9),w=v.a.mark(C),k=v.a.mark(L),S=v.a.mark(P);function C(e){var t,n,r,c,a;return v.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:t=0;case 1:if(!(t<e.length)){i.next=26;break}n=0,r=0;case 4:if(!(t+n<e.length)){i.next=15;break}if(c=e.slice(t,t+n+1),-1===(a=y(e.slice(0,t+n),c))){i.next=12;break}n++,r=a,i.next=13;break;case 12:return i.abrupt("break",15);case 13:i.next=4;break;case 15:if(0!==n){i.next=21;break}return i.next=18,{type:"literal",pos:t,symbol:e[t],l:1};case 18:t+=1,i.next=24;break;case 21:return i.next=23,{type:"copy",pos:t,p:r,l:n};case 23:t+=n;case 24:i.next=1;break;case 26:case"end":return i.stop()}}),w)}function L(e,t){var n,r,c,a,i,s;return v.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:n=0;case 1:if(!(n<e.length)){l.next=27;break}r=0,c=0;case 4:if(!(n+r<e.length)){l.next=16;break}if(a=e.slice(n,n+r+1),i=Math.max(0,n-t),-1===(s=y(e.slice(i,Math.min(i+t,n+r)),a))){l.next=13;break}r++,c=s+i,l.next=14;break;case 13:return l.abrupt("break",16);case 14:l.next=4;break;case 16:if(0!==r){l.next=22;break}return l.next=19,{type:"literal",pos:n,symbol:e[n],l:1};case 19:n+=1,l.next=25;break;case 22:return l.next=24,{type:"copy",pos:n,p:c,l:r};case 24:n+=r;case 25:l.next=1;break;case 27:case"end":return l.stop()}}),k)}function P(e,t){var n,r,c,a,i;return v.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:n=0;case 1:if(!(n<e.length)){s.next=26;break}r=0,c=0;case 4:if(!(n+r<e.length)){s.next=15;break}if(a=e.slice(n,n+r+1),-1===(i=g(t,a))){s.next=12;break}r++,c=i,s.next=13;break;case 12:return s.abrupt("break",15);case 13:s.next=4;break;case 15:if(0!==r){s.next=21;break}return s.next=18,{rlz:!0,type:"literal",symbol:e[n],l:1};case 18:n+=1,s.next=24;break;case 21:return s.next=23,{rlz:!0,type:"copy",p:c,l:r};case 23:n+=r;case 24:s.next=1;break;case 26:case"end":return s.stop()}}),S)}function R(e,t){for(var n=[],r=[],c=0;c<e.length;){for(var a=0,i=0;c+a<e.length;){var s=e.slice(c,c+a+1),l=y(e.slice(0,Math.min(c+a,t)),s);if(-1===l||!(c>=t||c+a<t))break;a++,i=l}if(0===a){var o={type:"literal",pos:c,symbol:e[c],l:1};c<t?n.push(o):r.push(o),c+=1}else{var j={type:"copy",pos:c,p:i,l:a};c<t?n.push(j):r.push(j),c+=a}}return[n,r]}function A(e,t){var n=new Map,r=[],c=[];function a(e){var c,a="literal"===e.type?[e.symbol]:t.slice(e.p,e.p+e.l),i=Object(f.a)(r);try{for(i.s();!(c=i.n()).done;){var s=Object(u.a)(c.value,2),l=s[0],o=s[1];if(Object(z.isEqual)(l,a))return o}}catch(h){i.e(h)}finally{i.f()}var j=n.size;return n.set(j,e),r.push([a,j]),j}var i,s=Object(f.a)(e);try{for(s.s();!(i=s.n()).done;){var l=i.value;c.push(a(l))}}catch(o){s.e(o)}finally{s.f()}return[n,c]}function B(e,t,n,r){for(var c=[],a=0;a<e.length;a++){var i=Object(z.sum)(c.map((function(e){return e.l})))+r,s=e[a];if("literal"===s.type){var l=t.get(s.symbol);if(void 0===l)throw new Error("no mapping for symbol "+s.symbol);c.push(Object(p.a)(Object(p.a)({},l),{},{pos:i}))}else{var o=Object(z.sumBy)(n.slice(0,s.p).map((function(e){return t.get(e)})),(function(e){return e.l}))+r,j=Object(z.sumBy)(n.slice(s.p,s.p+s.l).map((function(e){return t.get(e)})),(function(e){return e.l}));c.push({type:"copy",pos:i,p:o,l:j})}}return c}function M(e,t){var n=Object(j.a)(R(e,t)),r=n[0],c=n[1],a=[].concat(Object(j.a)(r),Object(j.a)(c)),i=A(a,e),s=Object(u.a)(i,2),l=s[0],o=s[1],h=Object(j.a)(C(o));return{firstPassPhrases:a,metaSymbols:o,metaSymbolPhrases:h,phrases:B(h,l,o,0)}}function E(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(0===n)return{passes:[],phrases:e.map((function(e,t){return{type:"literal",pos:t,symbol:e,l:1}}))};var r=Object(j.a)(R(e,t)),c=r[0],a=r[1];if(a.length>0){var i=A(a,e.slice(0,t)),s=Object(u.a)(i,2),l=s[0],o=s[1],h=E(o,t,n&&n-1),b=h.phrases,x=B(b,l,o,t),d=[].concat(Object(j.a)(c),Object(j.a)(x));return{passes:[{input:e,prefixPhrases:c,suffixPhrases:a,suffixMetaSymbols:o,suffixMetaSymbolsPhrases:b,suffixPhrasesCompressed:x}].concat(Object(j.a)(h.passes)),phrases:d}}return{passes:[{input:e,prefixPhrases:c,suffixPhrases:[],suffixMetaSymbols:[],suffixMetaSymbolsPhrases:[],suffixPhrasesCompressed:[]}],phrases:c}}var I=n(24),Z=n(57),H=n(1);function F(e){return Object(H.jsx)("div",{style:{display:"inline-block",width:"30px",height:"30px",border:"1px solid black",textAlign:"center",verticalAlign:"middle",lineHeight:"30px"},children:e.character})}function W(){return Object(H.jsxs)("div",{children:[Object(H.jsx)(F,{character:"A"}),Object(H.jsx)(F,{character:"A"})]})}function N(e){return"lz77"===e?{type:"lz77"}:"lz-sw"===e?{type:"lz-sw",windowSize:5}:"rlz"===e?{type:"rlz",reference:""}:"rlz-pref"===e?{type:"rlz-pref",prefixLength:5}:"relz"===e?{type:"relz",prefixLength:5}:{type:"relz-rec",prefixLength:5}}var G={lz77:{type:"lz77",title:"LZ77",needsReference:!1,needsPrefixSize:!1,needsWindowSize:!1,needsRecursionLimit:!1},"lz-sw":{type:"lz-sw",title:"LZ with sliding window",needsReference:!1,needsPrefixSize:!1,needsWindowSize:!0,needsRecursionLimit:!1},rlz:{type:"rlz",title:"RLZ",needsReference:!0,needsPrefixSize:!1,needsWindowSize:!1,needsRecursionLimit:!1},"rlz-pref":{type:"rlz-pref",title:"RLZ using prefix",needsReference:!1,needsPrefixSize:!0,needsWindowSize:!1,needsRecursionLimit:!1},relz:{type:"relz",title:"ReLZ",needsReference:!1,needsPrefixSize:!0,needsWindowSize:!1,needsRecursionLimit:!1},"relz-rec":{type:"relz-rec",title:"Recursive ReLZ",needsReference:!1,needsPrefixSize:!0,needsWindowSize:!1,needsRecursionLimit:!0}};function q(e){function t(t){e.onChange&&e.onChange(t)}if("lz77"===e.current.type)return Object(H.jsxs)(b.a,{children:[Object(H.jsx)(b.a.Header,{children:"LZ77"}),Object(H.jsx)(b.a.Body,{children:"no settings"})]});if("lz-sw"===e.current.type){var n=e.current.windowSize;return Object(H.jsxs)(b.a,{children:[Object(H.jsx)(b.a.Header,{children:"LZ with sliding window"}),Object(H.jsx)(b.a.Body,{children:Object(H.jsxs)(x.a,{children:[Object(H.jsx)(d.a,{children:"Window size:"}),Object(H.jsx)(d.a,{children:Object(H.jsx)("input",{type:"number",min:"0",value:n,onChange:function(e){return t({type:"lz-sw",windowSize:parseInt(e.target.value)})}})})]})})]})}if("rlz"===e.current.type)return Object(H.jsxs)(b.a,{children:[Object(H.jsx)(b.a.Header,{children:"Relative LZ"}),Object(H.jsx)(b.a.Body,{children:Object(H.jsxs)(x.a,{children:[Object(H.jsx)(d.a,{children:"Reference:"}),Object(H.jsx)(d.a,{children:Object(H.jsx)("input",{value:e.current.reference,onChange:function(e){return t({type:"rlz",reference:e.target.value})}})})]})})]});if("rlz-pref"===e.current.type)return Object(H.jsxs)(b.a,{children:[Object(H.jsx)(b.a.Header,{children:"RLZ with prefix"}),Object(H.jsx)(b.a.Body,{children:Object(H.jsxs)(x.a,{children:[Object(H.jsx)(d.a,{children:"Prefix length:"}),Object(H.jsx)(d.a,{children:Object(H.jsx)("input",{value:e.current.prefixLength,type:"number",min:"0",onChange:function(e){return t({type:"rlz-pref",prefixLength:parseInt(e.target.value)})}})})]})})]});if("relz"===e.current.type)return Object(H.jsxs)(b.a,{children:[Object(H.jsx)(b.a.Header,{children:"ReLZ"}),Object(H.jsx)(b.a.Body,{children:Object(H.jsxs)(x.a,{children:[Object(H.jsx)(d.a,{children:"Prefix length:"}),Object(H.jsx)(d.a,{children:Object(H.jsx)("input",{type:"number",min:"0",value:e.current.prefixLength,onChange:function(e){return t({type:"relz",prefixLength:parseInt(e.target.value)})}})})]})})]});if("relz-rec"===e.current.type){var r=e.current,c=r.prefixLength,a=r.recursionLimit;return Object(H.jsxs)(b.a,{children:[Object(H.jsx)(b.a.Header,{children:"Recursive ReLZ"}),Object(H.jsxs)(b.a.Body,{children:[Object(H.jsxs)(x.a,{children:[Object(H.jsx)(d.a,{children:"Prefix length:"}),Object(H.jsx)(d.a,{children:Object(H.jsx)("input",{type:"number",min:"0",value:e.current.prefixLength,onChange:function(e){return t({type:"relz-rec",prefixLength:parseInt(e.target.value),recursionLimit:a})}})})]}),Object(H.jsxs)(x.a,{children:[Object(H.jsx)(d.a,{children:"Recursion limit:"}),Object(H.jsx)(d.a,{children:Object(H.jsx)("input",{type:"number",min:"0",value:e.current.recursionLimit,onChange:function(e){return t({type:"relz-rec",prefixLength:c,recursionLimit:parseInt(e.target.value)})}})})]})]})]})}throw new Error("invalid compressor type")}function T(e){var t=m(e.input);function n(e){return e.map((function(e){if("copy"===e.type)return"(".concat(e.p+1,", ").concat(e.l,")");var t=String.fromCodePoint(e.symbol);return"(".concat(t,", 0)")}))}if("lz77"===e.settings.type){var r=Object(j.a)(C(t));return Object(H.jsx)(b.a,{style:{height:"100%"},children:Object(H.jsxs)(b.a.Body,{children:[Object(H.jsx)(x.a,{children:Object(H.jsx)(d.a,{children:n(r).join(", ")})}),Object(H.jsx)(x.a,{children:Object(H.jsxs)(d.a,{children:["z = ",r.length]})})]})})}if("lz-sw"===e.settings.type){var c,a=e.settings.windowSize,i=void 0===a||isNaN(a)?void 0:Object(j.a)(L(t,a));return Object(H.jsx)(b.a,{style:{height:"100%"},children:Object(H.jsxs)(b.a.Body,{children:[Object(H.jsx)(x.a,{children:Object(H.jsx)(d.a,{children:Object(H.jsx)(W,{})})}),Object(H.jsx)(x.a,{children:Object(H.jsx)(d.a,{children:n(i||[]).join(", ")})}),Object(H.jsx)(x.a,{children:Object(H.jsxs)(d.a,{children:["z = ",null!==(c=null===i||void 0===i?void 0:i.length)&&void 0!==c?c:"?"]})})]})})}if("rlz"===e.settings.type){var s,l=e.settings.reference,o=m(l),h=Object(j.a)(P(t,o));return Object(H.jsx)(b.a,{style:{height:"100%"},children:Object(H.jsxs)(b.a.Body,{children:[Object(H.jsx)(x.a,{children:Object(H.jsx)(d.a,{children:function(e){return e.map((function(e){if("copy"===e.type)return"(".concat(e.p+1,", ").concat(e.l,")");var t=String.fromCodePoint(e.symbol);return"(".concat(t,", 0)")}))}(h).join(", ")})}),Object(H.jsx)(x.a,{children:Object(H.jsxs)(d.a,{children:["z = ",null!==(s=null===h||void 0===h?void 0:h.length)&&void 0!==s?s:"?"," (+ ",l.length,")"]})})]})})}if("rlz-pref"===e.settings.type){var p,f=R(t,e.settings.prefixLength),O=Object(u.a)(f,2),v=O[0],g=O[1],y=[].concat(Object(j.a)(v),Object(j.a)(g));return Object(H.jsx)(b.a,{style:{height:"100%"},children:Object(H.jsxs)(b.a.Body,{children:[Object(H.jsx)(x.a,{children:Object(H.jsx)(d.a,{children:n(y).join(", ")})}),Object(H.jsx)(x.a,{children:Object(H.jsxs)(d.a,{children:["z = ",null!==(p=null===y||void 0===y?void 0:y.length)&&void 0!==p?p:"?"]})})]})})}if("relz"===e.settings.type){var z,w=M(t,e.settings.prefixLength);return Object(H.jsx)(b.a,{style:{height:"100%"},children:Object(H.jsxs)(b.a.Body,{children:[Object(H.jsx)(x.a,{children:Object(H.jsx)(d.a,{children:n(w.phrases).join(", ")})}),Object(H.jsx)(x.a,{children:Object(H.jsxs)(d.a,{children:["z = ",null!==(z=null===w||void 0===w?void 0:w.phrases.length)&&void 0!==z?z:"?"]})})]})})}if("relz-rec"===e.settings.type){var k,S=e.settings,A=E(t,S.prefixLength,S.recursionLimit).phrases;return Object(H.jsx)(b.a,{style:{height:"100%"},children:Object(H.jsxs)(b.a.Body,{children:[Object(H.jsx)(x.a,{children:Object(H.jsx)(d.a,{children:n(A).join(", ")})}),Object(H.jsx)(x.a,{children:Object(H.jsxs)(d.a,{children:["z = ",null!==(k=null===A||void 0===A?void 0:A.length)&&void 0!==k?k:"?"]})})]})})}throw new Error("invalid compressor type")}function Y(){var e=Object(r.useState)("AAABBBCCCC"),t=Object(u.a)(e,2),n=t[0],c=t[1],a=R(m(n),4),i=Object(u.a)(a,2),l=i[0],o=i[1],p=[].concat(Object(j.a)(l),Object(j.a)(o)),f=(function(e,t){for(var n="\\begin{tabular}{c c c}\n    \\toprule\n    $i$ & Input    & $f_i = (p_i, l_i)$ \\\\\n    \\midrule\n    & \n    \\begin{tikzpicture}[baseline=-2]\n",r=0;r<e.length;r++)n+="        \\node[index] (".concat(r+1,")"),r>0&&(n+=" [right of=".concat(r,"]")),n+=" {".concat(r+1,"};\n");n+="    \\end{tikzpicture}\n    & \\\\\n";for(var c=0,a=0;a<t.length;a++){var i=t[a];n+="    ".concat(a+1," &\n        \\begin{tikzpicture}[baseline=-2]\n");for(var s=0;s<e.length;s++)n+="            \\node[squarednode",s<c&&(n+=", used"),n+="] (".concat(s+1,")"),s>0&&(n+=" [right of=".concat(s,"]")),n+=" {".concat(e[s],"};\n");n+="            \\node[fit=";for(var l=0;l<i.l;l++)n+="(".concat(c+l+1,")");n+=", current]{};\n",n+="            \\addvmargin{1mm};\n        \\end{tikzpicture}\n            & ","literal"===i.type?n+="(".concat(i.symbol,", 0) \\\\\n"):n+="(".concat(i.p+1,", ").concat(i.l,") \\\\\n"),c+=i.l}}(n,p),Object(r.useState)("lz77")),O=Object(u.a)(f,2),v=O[0],g=O[1],y=Object(r.useState)([N("lz77"),N("lz-sw"),N("rlz"),N("rlz-pref"),N("relz"),N("relz-rec")]),z=Object(u.a)(y,2),w=z[0],k=z[1];return Object(H.jsx)(H.Fragment,{children:Object(H.jsxs)(s.a,{children:[Object(H.jsx)(x.a,{children:Object(H.jsx)(d.a,{children:Object(H.jsx)(b.a,{})})}),Object(H.jsx)(x.a,{children:Object(H.jsx)(d.a,{children:Object(H.jsx)(b.a,{children:Object(H.jsxs)(b.a.Body,{children:["Input:"," ",Object(H.jsx)("input",{type:"text",onChange:function(e){return c(e.target.value)},value:n})]})})})}),Object(H.jsxs)(x.a,{children:[Object(H.jsx)(d.a,{lg:"6",children:Object(H.jsxs)(x.a,{children:[Object(H.jsx)(d.a,{children:Object(H.jsx)("h1",{children:"Compressors"})}),Object(H.jsx)(d.a,{children:Object(H.jsxs)(I.a,{as:Z.a,children:[Object(H.jsx)(h.a,{onClick:function(){k([].concat(Object(j.a)(w),[N(v)]))},children:"Add "+G[v].title}),Object(H.jsx)(I.a.Toggle,{split:!0}),Object(H.jsxs)(I.a.Menu,{children:[Object(H.jsx)(I.a.Item,{onClick:function(){return g("lz77")},children:"LZ"}),Object(H.jsxs)(I.a.Item,{onClick:function(){return g("lz-sw")},children:["LZ with sliding window"," "]}),Object(H.jsxs)(I.a.Item,{onClick:function(){return g("rlz")},children:[" ","RLZ"]}),Object(H.jsx)(I.a.Item,{onClick:function(){return g("rlz-pref")},children:"RLZ with prefix"}),Object(H.jsx)(I.a.Item,{onClick:function(){return g("relz")},children:"ReLZ"}),Object(H.jsx)(I.a.Item,{onClick:function(){return g("relz-rec")},children:"Recursive ReLZ"})]})]})})]})}),Object(H.jsx)(d.a,{lg:"6",children:Object(H.jsx)("h1",{children:"Outputs"})})]}),w.map((function(e,t){return Object(H.jsxs)(x.a,{className:"mt-3",children:[Object(H.jsx)(d.a,{lg:"6",children:Object(H.jsx)(q,{current:e,onChange:function(e){return k(w.map((function(n,r){return t===r?e:n})))}})}),Object(H.jsx)(d.a,{lg:"6",children:Object(H.jsx)(T,{settings:e,input:n})})]})}))]})})}var D=n(16),$="#E1BE6A",J="#40B0A6";function _(){return Object(H.jsxs)("defs",{children:[Object(H.jsx)("marker",{id:"arrowhead",markerWidth:"100",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:Object(H.jsx)("polygon",{points:"0 0, 10 3.5, 0 7"})}),Object(H.jsxs)("linearGradient",{id:"split-color",gradientTransform:"rotate(45)",children:[Object(H.jsx)("stop",{offset:"75%",stopColor:$}),Object(H.jsx)("stop",{offset:"75%",stopColor:J})]})]})}function Q(e){var t=e.x1,n=e.x2,r=e.y,c=n-t;return Object(H.jsx)("path",{d:"M ".concat(t," ").concat(r," v -20 h ").concat(c," v 19"),"marker-end":"url(#arrowhead)",stroke:"black",fill:"none"})}function U(e){var t=e.x1,n=e.y1,r=e.x2,c=e.y2;if(e.straight){var a=n<c?10:-10,i=n<c?20:-20;return Object(H.jsx)("path",{d:"M ".concat(t," ").concat(n," v ").concat(a," L ").concat(r," ").concat(c-20," v ").concat(i),markerEnd:"url(#arrowhead)",stroke:"black",fill:"none"})}var s=r-t,l=(c-n)/2,o=c<n?l:-l,j=c<n?l:-l;return Object(H.jsx)("path",{d:"m ".concat(t," ").concat(n," v ").concat(o," h ").concat(s," v ").concat(j),"marker-end":"url(#arrowhead)",stroke:"black",fill:"none"})}function X(e){var t=e.x,n=e.y,r=e.text,c=e.color,a=e.w||30,i=e.h||30,s="source"===c?J:"target"===c?$:"source-target"===c?"url(#split-color)":"none";return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)("rect",{x:t,y:n,width:a,height:i,fill:s,stroke:"black"}),Object(H.jsx)("foreignObject",{x:t,y:n,width:a,height:i,children:Object(H.jsx)("div",{style:{overflowY:"auto",textAlign:"center",verticalAlign:"middle",lineHeight:"".concat(i,"px"),userSelect:"none"},children:r})})]})}function K(e){var t=e.x1,n=e.y1,r=e.x2,c=e.y2,a=e.w,i=e.q,s=t-r,l=n-c,o=Math.sqrt(s*s+l*l),j=t+i*a*(l/=o),u=n-i*a*(s/=o),h=t-.25*o*s+(1-i)*a*l,b=n-.25*o*l-(1-i)*a*s,x=t-.5*o*s+a*l,d=n-.5*o*l-a*s,p=r+i*a*l,f=c-i*a*s,O=t-.75*o*s+(1-i)*a*l,v=n-.75*o*l-(1-i)*a*s,g="M ".concat(t," ").concat(n," Q ").concat(j," ").concat(u," ").concat(h," ").concat(b," T ").concat(x," ").concat(d," M ").concat(r," ").concat(c," Q ").concat(p," ").concat(f," ").concat(O," ").concat(v," T ").concat(x," ").concat(d);return Object(H.jsx)("path",{d:g,stroke:"black",fill:"none"})}function V(e){var t=e.x,n=e.y,r=e.l,c=e.text;if(1===r)return Object(H.jsx)("foreignObject",{x:t-20,y:n,width:"60",height:"40",children:Object(H.jsx)("div",{style:{overflowY:"auto",textAlign:"center",verticalAlign:"middle",lineHeight:"40px",userSelect:"none",transform:"rotate(-45deg)"},children:c})});var a,i=t+3,s=t+30*r-3,l=null!==(a=e.w)&&void 0!==a?a:50;return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(K,{x1:i,x2:s,y1:n,y2:n,w:10,q:.6}),Object(H.jsx)("foreignObject",{x:i+Math.abs(s-i)/2-l/2,y:n,width:l,height:"40",children:Object(H.jsx)("div",{style:{overflowY:"auto",textAlign:"center",verticalAlign:"middle",lineHeight:"40px",userSelect:"none"},children:c})})]})}function ee(e){var t=e.x,n=e.y,r=e.text;return Object(H.jsx)("foreignObject",{x:t,y:n,width:"60",height:"40",children:Object(H.jsx)("div",{style:{overflowY:"auto",textAlign:"center",verticalAlign:"middle",lineHeight:"40px",userSelect:"none",transform:"rotate(-45deg)"},children:r})})}function te(e){var t,n=e.x1,r=e.x2,c=e.y,a=e.p,i=e.l,s=null!==(t=e.w)&&void 0!==t?t:50;return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(K,{x1:n,x2:r,y1:c,y2:c,w:10,q:.6}),Object(H.jsx)("foreignObject",{x:n+Math.abs(r-n)/2-s/2,y:c,width:s,height:"40",children:Object(H.jsx)("div",{style:{overflowY:"auto",textAlign:"center",verticalAlign:"middle",lineHeight:"40px",userSelect:"none"},children:"(".concat(a,", ").concat(i,")")})})]})}function ne(e){var t,n,r=e.data,c=e.currentPhrase,a=r.input,i=r.phrases,s=new Array(a.length).fill("none");if(void 0!==c&&c<i.length){var l=i[c];if("copy"===l.type){for(var o=0;o<l.l;o++)s[l.p+o]="source";n=l.p}var j=Object(z.sum)(Object(z.take)(i,c).map((function(e){return e.l})));t=j;for(var u=0;u<l.l;u++)s[j+u]="none"===s[j+u]?"target":"source-target"}var h=[],b=[];if(void 0!==c){var x=0;Object(z.take)(i,c+1).forEach((function(e){"literal"===e.type?h.push({x:30*x,y:90,text:"(".concat(String.fromCodePoint(e.symbol),",0)")}):1===e.l?h.push({x:30*x,y:90,text:"(".concat(e.p,",").concat(e.l,")")}):b.push(Object(p.a)({x1:30*x+22,x2:30*x+30*e.l+18,y:90},e)),x+=e.l}))}return Object(H.jsxs)("svg",{height:"100%",width:"100%",children:[Object(H.jsx)(_,{}),a.split("").map((function(e,t){return Object(H.jsx)(X,{x:30*t+20,y:50,text:e,color:s[t]},t)})),void 0!==t&&void 0!==n&&Object(H.jsx)(Q,{x1:30*t+35,x2:30*n+35,y:50}),h.map((function(e,t){return Object(H.jsx)(ee,Object(p.a)({},e),t)})),b.map((function(e,t){return Object(H.jsx)(te,Object(p.a)({},e),t)}))]})}function re(e){var t,n,r=e.data,c=e.currentPhrase,a=r.input,i=r.reference,s=r.phrases,l=new Array(a.length).fill("none"),o=new Array(i.length).fill("none");if(void 0!==c&&c<s.length){var j=s[c];if("copy"===j.type){for(var u=0;u<j.l;u++)o[j.p+u]="source";n=j.p}var h=Object(z.sum)(Object(z.take)(s,c).map((function(e){return e.l})));t=h;for(var b=0;b<j.l;b++)l[h+b]="target"}var x=[],d=[];if(void 0!==c){var f=0;Object(z.take)(s,c+1).forEach((function(e){"literal"===e.type?x.push({x:30*f,y:130,text:"(".concat(String.fromCodePoint(e.symbol),",0)")}):1===e.l?x.push({x:30*f,y:130,text:"(".concat(e.p,",").concat(e.l,")")}):d.push(Object(p.a)({x1:30*f+22,x2:30*f+30*e.l+18,y:130},e)),f+=e.l}))}return Object(H.jsxs)("svg",{height:"200",width:"100%",children:[Object(H.jsx)(_,{}),i.split("").map((function(e,t){return Object(H.jsx)(X,{x:30*t+20,y:10,text:e,color:o[t]})})),a.split("").map((function(e,t){return Object(H.jsx)(X,{x:30*t+20,y:90,text:e,color:l[t]})})),void 0!==t&&void 0!==n&&Object(H.jsx)(U,{x1:30*t+35,x2:30*n+35,y1:90,y2:50}),x.map((function(e){return Object(H.jsx)(ee,Object(p.a)({},e))})),d.map((function(e){return Object(H.jsx)(te,Object(p.a)({},e))}))]})}function ce(e){var t,n,r=e.data,c=e.currentPhrase,a=r.input,i=r.phrases,s=r.firstPassPhrases,l=r.metaSymbolPhrases,o=c===r.stepsCount,j=new Array(a.length).fill("none");if(void 0!==c&&c<s.length){var h=s[c];if("copy"===h.type){for(var b=0;b<h.l;b++)j[h.p+b]="source";n=h.p}var x=Object(z.sum)(Object(z.take)(s,c).map((function(e){return e.l})));t=x;for(var d=0;d<h.l;d++)j[x+d]="none"===j[x+d]?"target":"source-target"}var f=[],O=[];if(void 0!==c){var v=0;Object(z.take)(s,c+1).forEach((function(e){"literal"===e.type?f.push({x:30*v,y:90,text:"(".concat(String.fromCodePoint(e.symbol),",0)")}):1===e.l?f.push({x:30*v,y:90,text:"(".concat(e.p,",").concat(e.l,")")}):O.push(Object(p.a)({x1:30*v+22,x2:30*v+30*e.l+18,y:90},e)),v+=e.l}))}var g=[];if(c===s.length){var y=0;s.forEach((function(e,t){g.push([30*y+35+15*(e.l-1),30*t+35]),y+=e.l}))}var m,w,k=c&&c>=s.length?r.metaSymbols.map((function(e){return String(e)})):[],S=new Array(k.length).fill("none"),C=void 0!==c&&c>s.length?Math.min(c-s.length-1,l.length-1):void 0;if(void 0!==c&&void 0!==C&&c<s.length+l.length+1){var L=l[C];if("copy"===L.type){for(var P=0;P<L.l;P++)S[L.p+P]="source";w=L.p}var R=Object(z.sum)(Object(z.take)(l,C).map((function(e){return e.l})));m=R;for(var A=0;A<L.l;A++)S[R+A]="none"===S[R+A]?"target":"source-target"}if(void 0!==C){var B=0;Object(z.take)(l,C+1).forEach((function(e,t){"literal"===e.type?f.push({x:30*B,y:300,text:"(".concat(k[t],",0)")}):1===e.l?f.push({x:30*B,y:300,text:"(".concat(e.p,",").concat(e.l,")")}):O.push(Object(p.a)({x1:30*B+22,x2:30*B+30*e.l+18,y:300},e)),B+=e.l}))}var M=[];if(void 0!==c&&c===r.stepsCount){var E=0,I=0;Object(z.zip)(i,l).forEach((function(e,t){var n=Object(u.a)(e,2),r=n[0],c=n[1];r&&c&&("literal"===r.type?f.push({x:30*E,y:145,text:"(".concat(String.fromCodePoint(r.symbol),",0)")}):1===r.l?f.push({x:30*E,y:145,text:"(".concat(r.p,",").concat(r.l,")")}):O.push(Object(p.a)({x1:30*E+22,x2:30*E+30*r.l+18,y:145},r)),M.push([30*I+35+15*(c.l-1),30*E+35+15*+(r.l-1)]),E+=r.l,I+=null===c||void 0===c?void 0:c.l)}))}return Object(H.jsxs)("svg",{height:"500",width:"100%",children:[Object(H.jsx)(_,{}),a.split("").map((function(e,t){return Object(H.jsx)(X,{x:30*t+20,y:50,text:e,color:j[t]},t)})),void 0!==t&&void 0!==n&&Object(H.jsx)(Q,{x1:30*t+35,x2:30*n+35,y:50}),f.map((function(e,t){return Object(H.jsx)(ee,Object(p.a)({},e),t)})),O.map((function(e,t){return Object(H.jsx)(te,Object(p.a)({},e),t)})),g.map((function(e,t){var n=Object(u.a)(e,2),r=n[0],c=n[1];return Object(H.jsx)(U,{x1:r,y1:130,x2:c,y2:259,straight:!0},t)})),k.map((function(e,t){return Object(H.jsx)(X,{x:30*t+20,y:260,text:e,color:S[t]},t)})),void 0!==m&&void 0!==w&&Object(H.jsx)(Q,{x1:30*m+35,x2:30*w+35,y:260}),o&&Object(H.jsx)("line",{x1:"20",y1:"132",x2:30*a.length+20,y2:"132",stroke:"black"}),o&&Object(H.jsx)("line",{x1:"20",y1:"135",x2:30*a.length+20,y2:"135",stroke:"black"}),M.map((function(e){var t=Object(u.a)(e,2),n=t[0],r=t[1];return Object(H.jsx)(U,{x1:n,y1:260,x2:r,y2:220,straight:!0})}))]})}var ae=n(54),ie=n(48);function se(e){var t=e.data,n=e.currentPhrase,r=(t.input,t.phrases,t.passes),c=t.prefixLength,a=120,i=t.steps[null!==n&&void 0!==n?n:0];console.log(i);var s=r.reduce((function(e,t){var n,r=(null!==(n=Object(z.last)(e))&&void 0!==n?n:0)+Object(z.sum)(t.prefixPhrases.map((function(e){return e.l})));return[].concat(Object(j.a)(e),[r])}),[0]),l="initial"===i.type?[1,0,0,0]:"compress"===i.type?[i.pass+1,i.phrase+1,i.pass]:"mapping"===i.type?[i.pass+2,0,i.pass+1]:[r.length,c,0],o=Object(u.a)(l,4),h=o[0],b=o[1],x=o[2],d=(o[3],Object(z.take)(r,h).map((function(e,t){var n=e.input;return{x:30*s[t]+30,y:t*a+30,symbols:0===t?n.map((function(e){return String.fromCodePoint(e)})):n.map((function(e){return String(e)}))}}))),f=[],O=[];return Object(z.take)(r,h).forEach((function(e,t){Object(z.take)(e.prefixPhrases,t===h-1?b:e.prefixPhrases.length).forEach((function(e){var n=e.pos;if("literal"===e.type){var r="(".concat(0===t?String.fromCodePoint(e.symbol):String(e.symbol),",0)");f.push({x:30*n+30*s[t]+30,y:65+a*t,l:1,text:r})}else{var c="(".concat(e.p,",").concat(e.l,")");f.push({x:30*n+30*s[t]+30,y:65+a*t,l:e.l,text:c})}})),Object(z.take)(e.suffixPhrases,t===h-1?b-c:e.suffixPhrases.length).forEach((function(e){var n=e.pos;if(console.log(e),"literal"===e.type){var r="(".concat(0===t?String.fromCodePoint(e.symbol):String(e.symbol),",0)");f.push({x:30*n+30*s[t]+30,y:65+a*t,l:1,text:r})}else{var c="(".concat(e.p,",").concat(e.l,")");f.push({x:30*n+30*s[t]+30,y:65+a*t,l:e.l,text:c})}}))})),Object(z.take)(r,x).forEach((function(e,t){return e.suffixPhrases.forEach((function(e,n){O.push({x1:30*e.pos+30+15*e.l+30*s[t],y1:100+t*a,x2:30*n+30*s[t+1]+45,y2:150+t*a,straight:!0})}))})),Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)("div",{children:JSON.stringify(i)}),Object(H.jsxs)("svg",{height:r.length*a,width:"100%",children:[Object(H.jsx)(_,{}),d.map((function(e,t){var n=e.x,r=e.y;return e.symbols.map((function(e,c){return Object(H.jsx)(X,{x:n+30*c,y:r,text:e},"".concat(t,"+").concat(c))}))})),f.map((function(e,t){return Object(H.jsx)(V,Object(p.a)({},e),t)})),O.map((function(e,t){return Object(H.jsx)(U,Object(p.a)({},e),t)})),Object(H.jsx)(Q,{x1:50,x2:300,y:30})]})]})}function le(){var e=Object(r.useState)("ABCCDBCCABDD"),t=Object(u.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(!1),i=Object(u.a)(a,2),s=(i[0],i[1],Object(r.useState)(0)),l=Object(u.a)(s,2),f=l[0],O=l[1],v=Object(r.useState)("lz77"),g=Object(u.a)(v,2),y=g[0],w=g[1],k=G[y],S=Object(r.useState)(""),L=Object(u.a)(S,2),A=L[0],B=L[1],I=Object(r.useState)(5),Z=Object(u.a)(I,2),F=Z[0],W=Z[1],N=Object(r.useState)(5),q=Object(u.a)(N,2),T=q[0],Y=q[1],$=Object(r.useState)(5),J=Object(u.a)($,2),_=J[0],Q=J[1],U=function(){var e=Object(o.f)();return new URLSearchParams(e.search)}();Object(r.useEffect)((function(){var e=U.get("type");U.get("window"),U.get("prefix"),U.get("recursion"),U.get("reference");null!==e&&Object(z.keys)(G).includes(e)&&w(e)}),[]);var X=function(e,t,n){var r=m(t);if("lz77"===e){var c=Object(j.a)(C(r));return{type:"lz77",input:t,phrases:c,stepsCount:c.length}}if("rlz"===e){var a=n.reference,i=m(a),s=Object(j.a)(P(r,i));return{type:"rlz",input:t,reference:a,phrases:s,stepsCount:s.length}}if("rlz-pref"===e){var l=Object(j.a)(R(r,n.prefixSize)),o=l[0],u=l[1],h=[].concat(Object(j.a)(o),Object(j.a)(u));return{type:"lz77",input:t,phrases:h,stepsCount:h.length}}if("relz"===e){var b=M(r,n.prefixSize);return Object(p.a)(Object(p.a)({type:"relz",input:t,prefixLength:n.prefixSize},b),{},{stepsCount:b.firstPassPhrases.length+b.metaSymbolPhrases.length+2})}if("relz-rec"===e){var x=E(r,n.prefixSize,n.recursionLimit),d=x.passes.length-1,f=[{type:"initial"}].concat(Object(j.a)(x.passes.flatMap((function(e,t){return[].concat(Object(j.a)(e.prefixPhrases.map((function(e,n){return{type:"compress",pass:t,phrase:n}}))),Object(j.a)(e.suffixPhrases.map((function(n,r){return{type:"compress",pass:t,phrase:r+e.prefixPhrases.length}}))),Object(j.a)(t===d?[]:[{type:"mapping",pass:t}]))}))),Object(j.a)(Object(z.reverse)(Object(j.a)(x.passes)).flatMap((function(e,t){return e.suffixPhrasesCompressed.map((function(e,n){return{type:"back-mapping",pass:x.passes.length-t-1,phrase:n}}))})))),O=f.length;return{type:"relz-rec",input:t,prefixLength:n.prefixSize,passes:x.passes,phrases:x.phrases,stepsCount:O,steps:f}}}(y,n,{reference:A,windowSize:F,prefixSize:T,recursionLimit:_});Object(r.useEffect)((function(){void 0!==f&&void 0!==X&&O(Math.min(null===X||void 0===X?void 0:X.stepsCount,f))}),[X,null===X||void 0===X?void 0:X.stepsCount,f]);var K=Object(o.f)().pathname,V=new URLSearchParams;V.set("type",y),G[y].needsPrefixSize&&V.set("prefix",String(T)),G[y].needsWindowSize&&V.set("window",String(F)),G[y].needsRecursionLimit&&V.set("recursion",String(_)),G[y].needsReference&&V.set("reference",A),V.set("step",String(f||0));var ee="".concat(window.location.origin,"/#").concat(K,"?").concat(V.toString());return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(x.a,{className:"mt-5",children:Object(H.jsx)(d.a,{children:Object(H.jsxs)(b.a,{children:[Object(H.jsx)(b.a.Header,{children:"Settings"}),Object(H.jsx)(b.a.Body,{children:Object(H.jsxs)(D.a,{children:[Object(H.jsxs)(D.a.Group,{children:[Object(H.jsx)(D.a.Label,{children:"Input String"}),Object(H.jsx)(D.a.Control,{value:n,onChange:function(e){return c(e.target.value)}})]}),Object(H.jsxs)(D.a.Row,{children:[Object(H.jsx)(d.a,{children:Object(H.jsxs)(D.a.Group,{children:[Object(H.jsx)(D.a.Label,{children:"Compression Algorithm"}),Object(z.values)(G).map((function(e){return Object(H.jsx)(D.a.Check,{label:e.title,name:"compressor-group",type:"radio",checked:y===e.type,onChange:function(){return w(e.type)}},e.type)}))]})}),Object(H.jsxs)(d.a,{children:[k.needsReference&&Object(H.jsxs)(D.a.Group,{children:[Object(H.jsx)(D.a.Label,{children:"Reference"}),Object(H.jsx)(D.a.Control,{placeholder:"Reference String",value:A,onChange:function(e){return B(e.target.value)}})]},"reference-string"),k.needsPrefixSize&&Object(H.jsxs)(D.a.Group,{children:[Object(H.jsx)(D.a.Label,{children:"Prefix Size"}),Object(H.jsx)(D.a.Control,{type:"number",value:T,onChange:function(e){return Y(parseInt(e.target.value))}})]}),k.needsWindowSize&&Object(H.jsxs)(D.a.Group,{children:[Object(H.jsx)(D.a.Label,{children:"Window Size"}),Object(H.jsx)(D.a.Control,{type:"number",value:F,onChange:function(e){return W(parseInt(e.target.value))}})]}),k.needsRecursionLimit&&Object(H.jsxs)(D.a.Group,{children:[Object(H.jsx)(D.a.Label,{children:"Recursion Limit"}),Object(H.jsx)(D.a.Control,{type:"number",value:_,onChange:function(e){return Q(parseInt(e.target.value))}})]})]})]})]})})]})})}),Object(H.jsx)(x.a,{className:"mt-5",children:Object(H.jsx)(d.a,{children:Object(H.jsx)(b.a,{children:Object(H.jsxs)(b.a.Body,{children:["lz77"===(null===X||void 0===X?void 0:X.type)&&Object(H.jsx)(ne,{data:X,currentPhrase:f}),"rlz"===(null===X||void 0===X?void 0:X.type)&&Object(H.jsx)(re,{data:X,currentPhrase:f}),"relz"===(null===X||void 0===X?void 0:X.type)&&Object(H.jsx)(ce,{data:X,currentPhrase:f}),"relz-rec"===(null===X||void 0===X?void 0:X.type)&&Object(H.jsx)(se,{data:X,currentPhrase:f})]})})})}),Object(H.jsxs)(x.a,{children:[Object(H.jsx)(d.a,{md:"1",children:Object(H.jsx)(h.a,{disabled:0===f,onClick:function(){return O(Math.max(0,f-1))},children:"Previous"})}),Object(H.jsx)(d.a,{md:"1",children:Object(H.jsx)(h.a,{disabled:f===(null===X||void 0===X?void 0:X.stepsCount),onClick:function(){return O(Math.min(((null===X||void 0===X?void 0:X.stepsCount)||f+1)-1,f+1))},children:"Next"})}),Object(H.jsxs)(d.a,{children:["Step ",f+1," / ",null===X||void 0===X?void 0:X.stepsCount]})]}),Object(H.jsx)(x.a,{children:Object(H.jsx)(d.a,{children:Object(H.jsx)(b.a,{children:Object(H.jsx)(b.a.Body,{children:Object(H.jsxs)(ae.a,{className:"mb-3",children:[Object(H.jsx)(ie.a,{value:ee,readOnly:!0}),Object(H.jsx)(ae.a.Append,{children:Object(H.jsx)(h.a,{variant:"outline-secondary",children:"Copy"})})]})})})})})]})}var oe=n(55),je=n(43);var ue=function(){return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(oe.a,{bg:"dark",variant:"dark",children:Object(H.jsxs)(s.a,{children:[Object(H.jsx)(oe.a.Brand,{href:"#home",children:"Lempel-Ziv Playground"}),Object(H.jsxs)(je.a,{className:"mr-auto",children:[Object(H.jsx)(je.a.Link,{to:"/slides",as:l.b,children:"Slides"}),Object(H.jsx)(je.a.Link,{to:"/compare",as:l.b,children:"Compare"}),Object(H.jsx)(je.a.Link,{href:"#pricing",children:"Pricing"})]})]})}),Object(H.jsx)(s.a,{children:Object(H.jsxs)(o.c,{children:[Object(H.jsx)(o.a,{exact:!0,path:"/compare",children:Object(H.jsx)(Y,{})}),Object(H.jsx)(o.a,{exact:!0,path:"/slides",children:Object(H.jsx)(le,{})})]})})]})},he=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,81)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))};i.a.render(Object(H.jsx)(c.a.StrictMode,{children:Object(H.jsx)(l.a,{children:Object(H.jsx)(ue,{})})}),document.getElementById("root")),he()}},[[76,1,2]]]);
//# sourceMappingURL=main.37c5c153.chunk.js.map